{% extends "app_Postagem/base.html" %}
{% load static %}

{% block title %}Excluir Projeto{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center vh-100" style="background-color: #e9eff5;">
    <div class="bg-white rounded-4 shadow p-5 text-center" style="width: 100%; max-width: 480px;">

        <!-- Título -->
        <h3 class="fw-bold mb-2 text-uppercase" style="color: #0d6efd;">
            Excluir Projeto
        </h3>
        <p class="text-muted mb-4">Selecione o projeto que deseja remover</p>

        {% if projetos %}
        <!-- Selecionar qual projeto excluir -->
        <form method="GET" class="text-start mb-4">
            <div class="form-floating mb-3">
                <select name="projeto_id" id="projeto" class="form-select" required>
                    <option value="">-- Selecione um projeto --</option>
                    {% for p in projetos %}
                        <option value="{{ p.id }}">{{ p.titulo }}</option>
                    {% endfor %}
                </select>
                <label for="projeto">Escolha o projeto</label>
            </div>
            <button type="submit" class="btn btn-outline-danger w-100 py-2 rounded-3">
                <i class="bi bi-trash"></i> Continuar
            </button>
        </form>

        {% elif projeto %}
        <!-- Confirmação de exclusão -->
        <p class="fs-5 fw-semibold text-darck mb-4">
            Tem certeza que deseja excluir o projeto <strong>"{{ projeto.titulo }}"</strong>?
        </p>

        <form method="POST" class="text-start">
            {% csrf_token %}
            <div class="d-flex justify-content-between">
                <a href="{% url 'projetos' %}" class="btn btn-secondary w-50 me-2 rounded-3 py-2">
                    Cancelar
                </a>
                <button type="submit" class="btn btn-danger w-50 rounded-3 py-2">
                    Excluir
                </button>
            </div>
        </form>
        {% else %}
        <p class="text-muted">Nenhum projeto encontrado.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
